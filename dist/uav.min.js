function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}!function(){"use strict";function e(e,n){var t=Array.from(document.querySelectorAll(e));return n?t.forEach(n):t}function n(n,t){return t?e(n,t):document.querySelector(n)||document.createElement("div")}function t(e,n){e&&e._uav&&n&&(Object.keys(e).forEach(function(r){t(e[r],n[r])}),n._uav=e._uav,e=null)}function r(e){if(!f.isVmEligible(e))return e;var u={};return Array.isArray(e)?(u=[],f.defineProp(u,"_loops",[])):f.defineProp(u,"_uav",{}),Object.keys(e).forEach(function(a){e[a]=r(e[a]),Object.defineProperty(u,a,{get:function(){if(n.state&&u._uav){var t=n.state;u._uav[a]=u._uav[a]||[],u._uav[a].push(t),n.node._uav.push(function(){if(u._uav[a]){var e=u._uav[a].indexOf(t);u._uav[a].splice(e,1)}t=null})}return n.lastAccessed={vm:u,key:a},e[a]},set:function(n){var i=n&&n._uav;n=r(n),!i&&e[a]&&e[a]._uav&&t(e[a],n),e[a]=n,u._loops?u._loops.forEach(function(n){return n.replace(e[a],a)}):u._uav[a]&&u._uav[a].forEach(function(e){return e.binding(e)})},configurable:!0,enumerable:!0})}),u}function u(e,n){var t=void 0,r=v(e.value),u=function(e){return function(n){var u=r(n.vm,n.ctx);t&&e.removeAttribute(t),u&&(e.setAttribute(u,""),t=u)}};n.push(function(e){return f.bindStep(u(e.el),e)})}function a(e,t){var r=e.value.match(n.expRX),u=r.map(f.stripTags),a=u.map(v),i=e.value,o=e.name.substring(2),c=function(e){return function(n){for(var t=i,c=0;c<a.length;c++){var l=a[c](n.vm,n.ctx);switch(typeof l){case"function":return void(e[o]=l);case"boolean":l=l?u[c]:""}t=t.replace(r[c],l)}e.setAttribute(o,t)}};t.push(function(e){return f.bindStep(c(e.el),e)})}function i(e,n,t){if(0===e.name.indexOf("u-")){switch(e.name){case"u-loop":return p(e,n,t);case"u-attr":return u(e,n)}a(e,n)}else n.push(function(n){return n.el.setAttribute(e.name,e.value),n})}function o(e,n,t){var r=v(t),u=function(e){return function(n){var t=r(n.vm,n.ctx);if(t._el||t.tagName){var u=t._el?t._el:t;u!==e&&f.unbind(e),e.parentNode&&(e.parentNode.replaceChild(u,e),e=u)}else e.textContent=t}};n.push(function(e){var n=document.createTextNode("");return e.el.appendChild(n),f.bindStep(u(n),e)})}function c(e,t){var r=e.textContent.split(n.expRX);if(r.length>1){var u=e.parentNode;r.forEach(function(e){if(e.trim()){var r=document.createTextNode(e);e.match(n.expRX)?o(r,t,f.stripTags(e)):t.push(function(e){return e.el.appendChild(r),e})}}),u.removeChild(e)}else t.push(function(n){return n.el.appendChild(e.cloneNode()),n})}function l(e){n.node=e,f.defineProp(n.node,"_uav",[]);var t=[];t.root=function(){return f.createElement(e.tagName)};for(var r=0;r<e.attributes.length;r++)i(e.attributes[r],t,e);return e.value&&i({name:"value",value:e.value},t,e),Array.from(e.childNodes).forEach(function(e){if(3===e.nodeType)c(e,t);else{var n=l(e);t.push(function(e){return e.el.appendChild(f.render(n,e.vm,e.ctx)),e})}}),t}n.all=e;var f={defineProp:function(e,n,t){return Object.defineProperty(e,n,{value:t,configurable:!0,writable:!0,enumerable:!1})},unbind:function(e){e&&e._uav&&(Array.from(e.children).forEach(f.unbind),e._uav.forEach(function(e){return e()}),e=null)},setTag:function(e,t){n.tagRX=new RegExp("(^"+e+"|"+t+"$)","g"),n.expRX=new RegExp("("+e+".*?"+t+")","g")},stripTags:function(e){return e.replace(n.tagRX,"")},bindStep:function(e,t){return t.binding=e,n.state=t,e(t),n.state=null,t},render:function(e,n,t){return[{vm:n,ctx:t,el:e.root()}].concat(e).reduce(function(e,n){return n(e)}).el},isVmEligible:function(e){return!(!e||"object"!=typeof e||e._uav||e.tagName)},createElement:function(e){return"svg"===e||"path"===e?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}},d=function(e,n){var t=n?n.cloneNode():document.createElement("div");return t.innerHTML=e,1!==t.children.length&&console.error("Template must have 1 root node:",e),t.firstElementChild},v=function(e){var n=new Function("with(arguments[0]){with(arguments[1]){return "+e+"}}");return function(t,r){var u=void 0;try{u=n(t,r||{})}catch(n){console.error(e,n),u=""}return u}},p=function(e,t,u){var a=v(e.value),i=u.getAttribute("u-as").split(","),o=i[0],c=i[1];u.removeAttribute("u-loop"),u.removeAttribute("u-as");var d=l(u.firstElementChild);u.innerHTML="";var p=function(e){return function(t){var u={append:function(n,r){var u,a=f.render(d,t.vm,(u={},_defineProperty(u,o,n),_defineProperty(u,c,r),u));e.appendChild(a)},replace:function(n,r){var u,a=e.children[r],i=f.render(d,t.vm,(u={},_defineProperty(u,o,n),_defineProperty(u,c,r),u));a?(f.unbind(a),e.replaceChild(i,a)):e.appendChild(i)}};e.innerHTML="";var i=r(a(t.vm,t.ctx)||[]);i._loops.push(u),n.state=null,i.forEach(u.append)}};t.push(function(e){return e.binding=p(e.el),n.state=e,e.binding(e),e})};Array.from||(Array.from=function(e){return[].slice.call(e)}),f.setTag("{","}"),n.component=function(e){var t=l(e.tagName?e:d(e));return function(e,u){var a=arguments;(e=r(e))._el=f.render(t,e),u&&("string"==typeof u&&((u=n(u)).innerHTML=""),u.appendChild&&u.appendChild(e._el));for(var i=1;i<arguments.length&&"break"!==function(n){if("function"==typeof a[n])return setTimeout(function(){return a[n](e._el)}),"break"}(i);i++);return e}},n.model=r,n.parse=d,n.setTag=f.setTag,window.uav=n}();