!function(){function n(n){x(n,"push",function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return m=!0,Array.prototype.push.apply(n,r),m=!1,n.forEach(n._watch),n._loops.forEach(function(e){r.forEach(function(r,t){e.binding(r,n.length+t)})}),n}),x(n,"pop",function(){n._loops.forEach(function(e){return e.remove(n.length-1)}),m=!0;var e=Array.prototype.pop.call(n);return m=!1,e}),x(n,"reverse",function(){return n._loops.forEach(function(e){for(var r=Array.from(e.node.children),t=n.length-1;t>=0;t--)e.node.appendChild(r[t])}),m=!0,Array.prototype.reverse.call(n),m=!1,n}),x(n,"shift",function(){n._loops.forEach(function(n){return n.remove(0)}),m=!0;var e=Array.prototype.shift.call(n);return m=!1,e}),x(n,"sort",function(e){var r=Array.from(n);return m=!0,Array.prototype.sort.call(n,e),m=!1,n._loops.forEach(function(e){var t=[];n.forEach(function(n){return t.push(e.node.children[r.indexOf(n)])}),t.forEach(function(n,r){return e.node.insertBefore(n,e.node.children[r])})}),n}),x(n,"splice",function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];var o=r.shift(),u=r.shift();m=!0;var a=Array.prototype.splice.apply(n,[o,u].concat(r));if(m=!1,n.forEach(n._watch),n._loops){for(var i=0;i<u;i++)n._loops.forEach(function(n){return n.remove(o)});n._loops.forEach(function(n){r.forEach(function(e,r){return n.binding(e,o+r,!0)})})}return a}),x(n,"unshift",function(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return m=!0,Array.prototype.unshift.apply(n,r),m=!1,n.forEach(n._watch),n._loops.forEach(function(n){r.forEach(function(e,r){return n.binding(e,r,!0)})}),n})}function e(n,e){var r=Array.from(document.querySelectorAll(n));return e?r.forEach(e):r}function r(n,e){w.tagRX=new RegExp("(^"+n+"|"+e+"$)","g"),w.expRX=new RegExp("("+n+".*?"+e+")","g")}function t(n,e){var r=e?e.cloneNode():b("div");return r.innerHTML=n,r.children.length>1&&console.error("Only 1 root node allowed."),r.firstElementChild}function o(n,e){try{return new Function("with(arguments[0]){return "+n+"}").call(e,e)}catch(n){return E}}function u(n){n&&n._uav&&(Array.from(n.children).forEach(u),n._uav.forEach(function(n){return n()}),n=null)}function a(n,e){var r=n.one?[n.tmpl]:n.tmpl.match(w.expRX);if(r){!function t(u){r.forEach(function(r){var a=T(r);u&&(y=t);var i=o(a,e);y=null,A(i,"boolean")?i=i?a:"":void 0!==i&&null!==i&&i!==E||(i=""),n.replace(i,r)}),n.commit&&n.commit()}(!0)}}function i(n,e){Array.from(n.attributes).filter(function(n){return n.specified}).map(function(n){return{name:n.name,value:n.value}}).forEach(function(n){return e(n)}),n.value&&e({name:"value",value:n.value})}function c(n,e){var r=e.value,t=r;return{tmpl:r,replace:function(n,e){t=A(n,"function")?n:t.replace(e,n)},commit:function(){A(t,"function")?(n.removeAttribute(e.name),n[e.name]=t):n.setAttribute(e.name,t),t=r}}}function f(n,e,r){for(var t=void 0,o=0;o<g.length;o++){var u=g[o](n,e,r);u&&(n.removeAttribute(e.name),a(u,r),u.loop&&(t=!0))}return a(c(n,e),r),t}function l(n,e){a({tmpl:n.textContent,replace:function(e){if(e.tagName||e._el){var r=e._el?e._el:e;r!==n&&u(n),n.parentNode&&(n.parentNode.replaceChild(r,n),n=r)}else try{n.textContent=e}catch(e){n.innerHTML=""}}},e)}function p(n,e){var r=n.textContent.split(w.expRX);if(r.length>1){var t=n.parentNode;r.forEach(function(r){if(r.trim()){var o=document.createTextNode(r);t.insertBefore(o,n),l(o,e)}}),t.removeChild(n)}}function v(n,e){var r=void 0;return _=n,x(_,"_uav",[]),i(n,function(t){f(n,t,e)&&(r=!0)}),r?n:(Array.from(n.childNodes).forEach(function(n){3===n.nodeType?p(n,e):v(n,e)}),n)}function s(n){return!(!n||!A(n,"object")||n._uav||n.tagName)}function h(n,e){n&&n._uav&&e&&(Object.keys(n).forEach(function(r){h(n[r],e[r])}),e._uav=n._uav,n=null)}function d(e){if(!s(e))return e;var r={};return Array.isArray&&(x(r=[],"_loops",[]),n(r)),x(r,"_uav",{}),x(r,"_watch",function(n,t){e[t]=d(n),Object.defineProperty(r,t,{get:function(){if(y){var n=y;r._uav[t]=r._uav[t]||[],r._uav[t].push(n),_._uav.push(function(){var e=r._uav[t].indexOf(n);r._uav[t].splice(e,1),n=null})}return w.lastAccessed={vm:r,key:t},e[t]},set:function(n){(e[t]!==n||A(n,"object"))&&(e[t]&&e[t]._uav&&h(e[t],n),e[t]=d(n),m||(r._uav[t]&&r._uav[t].forEach(function(n){return n()}),r._loops&&r._loops.forEach(function(n){return n.binding(e[t],t)})))},enumerable:!0,configurable:!0})}),Object.keys(e).forEach(function(n){return r._watch(e[n],n)}),r}var m=void 0;Array.from||(Array.from=function(n){return[].slice.call(n)});var y=void 0,_=void 0,g=[],E="_u_badexp",b=function(n){return document.createElement(n)},A=function(n,e){return typeof n===e},x=function(n,e,r){return Object.defineProperty(n,e,{value:r,configurable:!0,writable:!0,enumerable:!1})},w=window.uav=function(n,r){return r?e(n,r):document.querySelector(n)||b("div")};r("{","}");var T=function(n){return n.replace(w.tagRX,"")};g.push(function(n,e,r){if("uav-loop"===e.name){var o=n.getAttribute("uav-as").split(",");n.removeAttribute("uav-as");var a={node:n,as:o[0],index:o[1],html:n.innerHTML,remove:function(e){n.children[e]&&(u(n.children[e]),n.children[e].remove())},binding:function(n,e,o){var i=a.node.children[e],c=t(a.html,a.node),f=r[a.as],l=r[a.index];r[a.as]=n,a.index&&(r[a.index]=e),o&&i?a.node.insertBefore(v(c,r),i):i?(u(i),a.node.replaceChild(v(c,r),i)):a.node.appendChild(v(c,r)),r[a.as]=f,a.index&&(r[a.index]=l)}};return{loop:!0,tmpl:e.value,one:!0,replace:function(e){n.innerHTML="",-1===(e=d(e))._loops.indexOf(a)&&e._loops.push(a),e.forEach(a.binding)}}}}),g.push(function(n,e){if("style"===e.name||"uav-style"===e.name){var r=e.value,t=r;return{tmpl:r,replace:function(n,e){t=t.replace(e,n)},commit:function(){n.style.cssText=t,t=r}}}}),g.push(function(n,e){if("uav-src"===e.name){var r=e.value,t=r;return{tmpl:r,replace:function(n,e){t=t.replace(e,n)},commit:function(){n.setAttribute("src",t),t=r}}}}),g.push(function(n,e){if("uav-attr"===e.name){var r=void 0;return{tmpl:e.value,replace:function(e){r&&n.removeAttribute(r),e&&(n.setAttribute(e,""),r=e)}}}}),w.attributes=g,w.evaluate=o,w.stripTags=T,w.all=e,w.component=function(n,e,r){var o=arguments;if(A(n,"string")?(n={_el:t(n)},r=e):(n=d(n))._el=v(t(e),n),A(r,"string")||r&&r.tagName){var a=r.tagName?r:w(r),i=a.firstElementChild;setTimeout(function(){return u(i)}),a.innerHTML="",a.appendChild(n._el)}for(var c=0;c<arguments.length&&"break"!==function(e){if(A(o[e],"function"))return setTimeout(function(){return o[e](n._el)}),"break"}(c);c++);return n},w.model=d,w.parse=t,w.setTag=r,w.unbind=u,"undefined"!=typeof module&&module.exports&&(module.exports=w)}();