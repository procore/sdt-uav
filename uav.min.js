'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};(function(){function a(o){var p=document.createElement('div');return p.innerHTML=o,1<p.children.length&&console.error('Components must have only one root node.'),p=p.firstElementChild,p}function b(o){return o&&'object'===('undefined'==typeof o?'undefined':_typeof(o))}function c(o,p){Object.keys(o).forEach(function(q){var r=o[q];Object.defineProperty(o,q,{get:function get(){return r},set:function set(s){r=s,p('_childPropertyModified')}}),b(o[q])&&c(o[q],p)})}function f(o,p){try{return new Function('with(arguments[0]){return '+o+';}')(p)}catch(q){return'_invalidExpression'}}function g(o,p,q,r){var s=o.match(/{.*?}/g);if(s){var t=function(){var u,v=o;s.forEach(function(w){var x=w.substring(1,w.length-1);t.bound||r||(p._currentlyCreatingBinding=t),u=f(x,p),delete p._currentlyCreatingBinding;var y='undefined'==typeof u?'undefined':_typeof(u);v='boolean'===y?v.replace(w,u?x:''):'function'===y?u:void 0==u||'_invalidExpression'===u||null===u?v.replace(w,''):'object'===y?u._element?u._element:u:v.replace(w,u.toString())}),q(v)};t(),t.bound=!0}}function h(o,p){Array.from(o.childNodes).forEach(function(q){return p.appendChild(q.cloneNode(!0))})}function i(o,p){var q=Array.from(o.attributes).filter(function(r){return r.specified&&'as'!==r.name}).map(function(r){return{name:r.name,value:r.value}});q.forEach(function(r){p(r)}),o.value&&p({name:'value',value:o.value})}function j(o,p,q,r){'style'===p.name?g(p.value,q,function(s){o.style.cssText=s},r):'data-src'===p.name?g(p.value,q,function(s){o.removeAttribute('data-src'),o.setAttribute('src',s)},r):g(p.value,q,function(s){'function'==typeof s?(o.removeAttribute(p.name),o[p.name]=s):o.setAttribute(p.name,s)},r)}function k(o,p,q){return i(o,function(r){if('loop'===r.name&&o.attributes.as){var u=function(v){if(v){var w=document.createElement(o.tagName);if(Array.isArray(v)){var x=p[t];v.forEach(function(y){p[t]=y,h(s,w),k(w,p,u.bound)}),p[t]=x}else'string'==typeof t&&(t=t.split('.')),Object.keys(v).forEach(function(y){var z=p[t[0]],A=p[t[1]];p[t[0]]=y,p[t[1]]=v[y],h(s,w),k(w,p,u.bound),p[t[0]]=z,p[t[1]]=A});o.innerHTML='',Array.from(w.childNodes).forEach(function(y){return o.appendChild(y)})}},s=a('<div>'+o.innerHTML+'</div>'),t=o.attributes.as.value;g('{'+r.value+'}',p,u,q),u.bound=!0,o.removeAttribute('loop'),o.removeAttribute('as')}else j(o,r,p,q)}),Array.from(o.childNodes).forEach(function(r){if(3===r.nodeType)g(r.textContent,p,function(t){try{r.textContent=t}catch(u){r.innerHTML=''}},q);else{var s=r.tagName.toLowerCase();void 0!==p[s]&&p[s]._element?g('{'+s+'}',p,function(t){r.parentNode===o&&(o.replaceChild(t,r),r=t)},q):k(r,p,q)}}),o}function m(o,p){return p?void Array.from(document.querySelectorAll(o)).forEach(p):document.querySelector(o)||document.createElement('div')}Array.from||(Array.from=function(o){return[].slice.call(o)}),m.model=function(o){var p={_bindings:{}};return Object.keys(o).forEach(function(q){function s(t){(o[q]!==t||'object'===('undefined'==typeof t?'undefined':_typeof(t)))&&('_childPropertyModified'!==t&&(b(t)&&c(t,s),o[q]=t),p._bindings[q]&&p._bindings[q].forEach(function(u){return u()}))}Object.defineProperty(p,q,{get:function(){return p._currentlyCreatingBinding&&(p._bindings[q]=p._bindings[q]||[],p._bindings[q].push(p._currentlyCreatingBinding)),o[q]},set:s}),b(o[q])&&c(o[q],s)}),p},m.component=function(o,p,q){if('string'==typeof o?(o={_element:a(o)},q=p):o._element=k(a(p),o),'string'==typeof q){var r=document.querySelector(q);r.innerHTML='',r.appendChild(o._element)}return Array.from(arguments).forEach(function(s){'function'==typeof s&&s(o._element)}),o},m.placeholder=function(o){return{_element:document.createElement(o||'div')}},'undefined'!=typeof module&&module.exports?module.exports=m:window.uav=m})();