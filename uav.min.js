"use strict";var _typeof2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof="function"==typeof Symbol&&"symbol"===_typeof2(Symbol.iterator)?function(a){return"undefined"==typeof a?"undefined":_typeof2(a)}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":"undefined"==typeof a?"undefined":_typeof2(a)};(function(){function a(p){var q=document.createElement("div");return q.innerHTML=p,1<q.children.length&&console.error("Components must have only one root node."),q=q.firstElementChild,q}function b(p){return p&&"object"===("undefined"==typeof p?"undefined":_typeof(p))}function c(p,q){Object.keys(p).forEach(function(r){var s=p[r];Object.defineProperty(p,r,{get:function(){return s},set:function(u){s=u,q("_childPropertyModified")}}),b(p[r])&&c(p[r],q)})}function f(p,q){try{return new Function("with(arguments[0]){return "+p+";}")(q)}catch(r){return"_invalidExpression"}}function g(p,q,r,s){var t=p.match(/{.*?}/g);if(t){var u=function v(){var w,x=p;t.forEach(function(y){var z=y.substring(1,y.length-1);v.bound||s||(q._currentlyCreatingBinding=v),w=f(z,q),delete q._currentlyCreatingBinding;var A="undefined"==typeof w?"undefined":_typeof(w);x="boolean"===A?x.replace(y,w?z:""):"function"===A?w:void 0==w||"_invalidExpression"===w||null===w?x.replace(y,""):"object"===A?w._element?w._element:w:x.replace(y,w.toString())}),r(x)};u(),u.bound=!0}}function h(p,q){Array.from(p.childNodes).forEach(function(r){return q.appendChild(r.cloneNode(!0))})}function j(p,q){var r=Array.from(p.attributes).filter(function(s){return s.specified&&"as"!==s.name}).map(function(s){return{name:s.name,value:s.value}});r.forEach(function(s){q(s)}),p.value&&q({name:"value",value:p.value})}function k(p,q,r,s){"data-style"===q.name?g(q.value,r,function(t){t=t.split(";");for(var v,u=0;u<t.length;u++)v=t[u].split(":"),p.style[v[0]]=v[1]},s):g(q.value,r,function(t){"function"==typeof t?(p.removeAttribute(q.name),p[q.name]=t):p.setAttribute(q.name,t)},s)}function l(p,q,r){return j(p,function(s){if("loop"===s.name&&p.attributes.as){var t=function w(x){if(x){var y=document.createElement(p.tagName);if(Array.isArray(x)){var z=q[v];x.forEach(function(A){q[v]=A,h(u,y),l(y,q,w.bound)}),q[v]=z}else"string"==typeof v&&(v=v.split(".")),Object.keys(x).forEach(function(A){var B=q[v[0]],C=q[v[1]];q[v[0]]=A,q[v[1]]=x[A],h(u,y),l(y,q,w.bound),q[v[0]]=B,q[v[1]]=C});p.innerHTML="",Array.from(y.childNodes).forEach(function(A){return p.appendChild(A)})}},u=a("<div>"+p.innerHTML+"</div>"),v=p.attributes.as.value;g("{"+s.value+"}",q,t,r),t.bound=!0,p.removeAttribute("loop"),p.removeAttribute("as")}else k(p,s,q,r)}),Array.from(p.childNodes).forEach(function(s){if(3===s.nodeType)g(s.textContent,q,function(u){try{s.textContent=u}catch(v){s.innerHTML=""}},r);else{var t=s.tagName.toLowerCase();void 0!==q[t]&&q[t]._element?g("{"+t+"}",q,function(u){s.parentNode===p&&(p.replaceChild(u,s),s=u)},r):l(s,q,r)}}),p}function n(p,q){return q?void Array.from(document.querySelectorAll(p)).forEach(q):document.querySelector(p)||document.createElement("div")}Array.from||(Array.from=function(p){return[].slice.call(p)}),n.model=function(p){var q={_bindings:{}};return Object.keys(p).forEach(function(r){function t(u){(p[r]!==u||"object"===("undefined"==typeof u?"undefined":_typeof(u)))&&("_childPropertyModified"!==u&&(b(u)&&c(u,t),p[r]=u),q._bindings[r]&&q._bindings[r].forEach(function(v){return v()}))}Object.defineProperty(q,r,{get:function(){return q._currentlyCreatingBinding&&(q._bindings[r]=q._bindings[r]||[],q._bindings[r].push(q._currentlyCreatingBinding)),p[r]},set:t}),b(p[r])&&c(p[r],t)}),q},n.component=function(p,q,r){if("string"==typeof p?(p={_element:a(p)},r=q):p._element=l(a(q),p),r){var s=document.querySelector(r);s.innerHTML="",s.appendChild(p._element)}return p},n.placeholder=function(p){return{_element:document.createElement(p||"div")}},"undefined"!=typeof module&&module.exports?module.exports=n:window.uav=n})();