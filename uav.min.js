'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};(function(){function a(p){var q=document.createElement('div');return q.innerHTML=p,1<q.children.length&&console.error('Components must have only one root node.'),q=q.firstElementChild,q}function b(p){return p&&'object'===('undefined'==typeof p?'undefined':_typeof(p))&&!p.tagName}function c(p,q){Object.keys(p).forEach(function(r){var s=p[r];Object.defineProperty(p,r,{get:function get(){return s},set:function set(t){s=t,q('_childPropertyModified')}}),b(p[r])&&c(p[r],q)})}function f(p,q){try{return new Function('with(arguments[0]){return '+p+';}')(q)}catch(r){return'_invalidExpression'}}function g(p,q,r,s){var t=p.match(/{.*?}/g);if(t){var u=function(){var v,w=p;t.forEach(function(x){var y=x.substring(1,x.length-1);u.bound||s||(q._currentlyCreatingBinding=u),v=f(y,q),delete q._currentlyCreatingBinding;var z='undefined'==typeof v?'undefined':_typeof(v);w='boolean'===z?w.replace(x,v?y:''):'function'===z?v:void 0==v||'_invalidExpression'===v||null===v?w.replace(x,''):'object'===z?v._element?v._element:v:w.replace(x,v.toString())}),r(w)};u(),u.bound=!0}}function h(p,q){Array.from(p.childNodes).forEach(function(r){return q.appendChild(r.cloneNode(!0))})}function j(p,q){var r=Array.from(p.attributes).filter(function(s){return s.specified&&'as'!==s.name}).map(function(s){return{name:s.name,value:s.value}});r.forEach(function(s){q(s)}),p.value&&q({name:'value',value:p.value})}function k(p,q,r,s){'style'===q.name||'data-style'===q.name?(g(q.value,r,function(t){p.style.cssText=t},s),p.removeAttribute('data-style')):'data-src'===q.name?(g(q.value,r,function(t){p.setAttribute('src',t)},s),p.removeAttribute('data-src')):g(q.value,r,function(t){'function'==typeof t?(p.removeAttribute(q.name),p[q.name]=t):p.setAttribute(q.name,t)},s)}function l(p,q,r){return j(p,function(s){if('loop'===s.name&&p.attributes.as){var x=function(y){if(y){var z=document.createElement(p.tagName);Object.keys(y).forEach(function(A){var B=q[v],C=q[A];q[v]=y[A],q[w]=A,h(t,z),l(z,q,x.bound),q[v]=B,q[w]=C}),p.innerHTML='',Array.from(z.childNodes).forEach(function(A){return p.appendChild(A)})}},t=a('<div>'+p.innerHTML+'</div>'),u=p.attributes.as.value.split(','),v=u?u[0]:'val',w=u?u[1]:'key';g('{'+s.value+'}',q,x,r),x.bound=!0,p.removeAttribute('loop'),p.removeAttribute('as')}else k(p,s,q,r)}),Array.from(p.childNodes).forEach(function(s){if(3===s.nodeType)g(s.textContent,q,function(u){if(u.tagName)s.parentNode.replaceChild(u,s),s=u;else try{s.textContent=u}catch(v){s.innerHTML=''}},r);else{var t=s.tagName.toLowerCase();void 0!==q[t]&&q[t]._element?g('{'+t+'}',q,function(u){s.parentNode===p&&(p.replaceChild(u,s),s=u)},r):l(s,q,r)}}),p}function n(p,q){return q?void Array.from(document.querySelectorAll(p)).forEach(q):document.querySelector(p)||document.createElement('div')}Array.from||(Array.from=function(p){return[].slice.call(p)}),n.model=function(p){var q={_bindings:{}};return Object.keys(p).forEach(function(r){function t(u){(p[r]!==u||'object'===('undefined'==typeof u?'undefined':_typeof(u)))&&('_childPropertyModified'!==u&&(b(u)&&c(u,t),p[r]=u),q._bindings[r]&&q._bindings[r].forEach(function(v){return v()}))}Object.defineProperty(q,r,{get:function(){return q._currentlyCreatingBinding&&(q._bindings[r]=q._bindings[r]||[],q._bindings[r].push(q._currentlyCreatingBinding)),p[r]},set:t}),b(p[r])&&c(p[r],t)}),q},n.component=function(p,q,r){if('string'==typeof p?(p={_element:a(p)},r=q):p._element=l(a(q),p),'string'==typeof r){var s=document.querySelector(r);s.innerHTML='',s.appendChild(p._element)}return Array.from(arguments).forEach(function(t){'function'==typeof t&&t(p._element)}),p},n.placeholder=function(p){return{_element:document.createElement(p||'div')}},'undefined'!=typeof module&&module.exports?module.exports=n:window.uav=n})();